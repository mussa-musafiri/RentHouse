<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Online House_Rent Solution</title>
  <link rel="stylesheet" href="C:\Users\lenovo\Music\Project\Css\style.css">
  <link rel="stylesheet" href="font-awasome/css/all.min.css" />
  <style>
   * { margin: 0; padding: 0; box-sizing: border-box; }
   body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      overflow-x: hidden;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
   }
   /* ===== Responsive Styles ===== */
   @media (max-width: 991.98px) {
       .main-container { flex-direction: column; min-height: auto; }
       .left-panel, .right-panel { flex: none; width: 100%; padding: 2rem; }
       .left-panel { order: 2; text-align: center; padding-bottom: 4rem; }
       .right-panel { order: 1; padding-top: 4rem; }
       .form-container { max-width: 500px; margin: 0 auto; }
       .logo { justify-content: center; }
       .features { grid-template-columns: repeat(2, 1fr); }
   }
   @media (max-width: 767.98px) {
       .left-panel { padding: 1.5rem; }
       .right-panel { padding: 1.5rem; }
       .form-container { padding: 2rem; }
       .logo h1 { font-size: 2rem; }
       .tagline p { font-size: 1rem; }
   }
   @media (max-width: 575.98px) {
       .left-panel, .right-panel { padding: 1rem; }
       .form-container { padding: 1.5rem; }
       .logo { flex-direction: column; margin-bottom: 1rem; }
       .logo i { margin-right: 0; margin-bottom: 0.5rem; }
       .features { grid-template-columns: 1fr; }
       .social-links { justify-content: center; }
       .input-group { margin-bottom: 1rem; }
       .submit-btn { padding: 0.8rem; }
       .form-toggle { flex-direction: column; gap: 0.5rem; }
   }
   @media (max-width: 399.98px) {
       .form-container { padding: 1rem; }
       .form-header h2 { font-size: 1.5rem; }
       .input-group input { padding: 0.8rem 0.8rem 0.8rem 2.5rem; }
       .input-group i { left: 0.8rem; }
   }
  </style>
</head>
<body>
    <div class="background-animation">
        <div class="floating-shapes">
            <div class="shape"></div><div class="shape"></div><div class="shape"></div>
            <div class="shape"></div><div class="shape"></div>
        </div>
    </div>

    <div class="main-container">
        <!-- LEFT PANEL -->
        <div class="left-panel">
            <div class="logo">
                <i class="fas fa-home"></i>
                <h1>RentHub</h1>
            </div>
            <div class="tagline">
                <p>Find your perfect home with ease. Connect with trusted landlords and discover amazing rental properties in your area.</p>
            </div>
            <div class="features">
                <div class="feature"><i class="fas fa-search"></i><span>Smart Property Search</span></div>
                <div class="feature"><i class="fas fa-shield-alt"></i><span>Verified Listings</span></div>
                <div class="feature"><i class="fas fa-handshake"></i><span>Direct Owner Contact</span></div>
                <div class="feature"><i class="fas fa-mobile-alt"></i><span>Mobile Friendly</span></div>
            </div>
            <div class="social-links">
                <a href="#"><i class="fab fa-facebook-f"></i></a>
                <a href="#"><i class="fab fa-twitter"></i></a>
                <a href="#"><i class="fab fa-instagram"></i></a>
                <a href="#"><i class="fab fa-whatsapp"></i></a>
                <a href="#"><i class="fab fa-telegram"></i></a>
            </div>
        </div>

        <!-- RIGHT PANEL -->
        <div class="right-panel">
            <div class="form-container">
                <div id="successMessage" class="success-message"></div>
                <div id="errorMessage" class="error-message"></div>

                <!-- REGISTER FORM -->
                <div class="form" id="registerForm">
                    <div class="form-header">
                        <h2>Create Account</h2>
                        <p>Join RentHub and start your journey</p>
                    </div>
                    <div class="input-group">
                        <i class="fas fa-user"></i>
                        <input type="text" id="regUsername" required>
                        <label>Username</label>
                    </div>
                    <div class="input-group">
                        <i class="fas fa-phone"></i>
                        <input type="tel" id="regPhone" required>
                        <label>Phone Number</label>
                    </div>
                    <div class="input-group">
                        <i class="fas fa-lock"></i>
                        <input type="password" id="regPassword" required>
                        <label>Create Password</label>
                    </div>
                    <div class="input-group">
                        <i class="fas fa-lock"></i>
                        <input type="password" id="regConfirm" required>
                        <label>Confirm Password</label>
                    </div>
                    <button class="submit-btn" id="registerBtn">Create Account</button>
                    <div class="form-toggle">
                        Already have an account? <a href="#" class="login-link">Sign In</a>
                    </div>
                </div>

                <!-- LOGIN FORM -->
                <div class="form hidden" id="loginForm">
                    <div class="form-header">
                        <h2>Welcome Back</h2>
                        <p>Sign in to your RentHub account</p>
                    </div>
                    <div class="input-group">
                        <i class="fas fa-user"></i>
                        <input type="text" id="loginUsername" required>
                        <label>Username</label>
                    </div>
                    <div class="input-group">
                        <i class="fas fa-lock"></i>
                        <input type="password" id="loginPassword" required>
                        <label>Password</label>
                    </div>
                    <button class="submit-btn" id="loginBtn">Sign In</button>
                    <div class="form-toggle">
                        Don't have an account? <a href="#" class="register-link">Create Account</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

<script>
// 1️⃣ Initialize Supabase
const supabaseUrl = 'YOUR_SUPABASE_URL';
const supabaseKey = 'YOUR_SUPABASE_ANON_KEY';
const supabase = Supabase.createClient(supabaseUrl, supabaseKey);

// DOM Elements
const registerBtn = document.getElementById('registerBtn');
const loginBtn = document.getElementById('loginBtn');
const successMessage = document.getElementById('successMessage');
const errorMessage = document.getElementById('errorMessage');

function showMessage(msg, isSuccess = true) {
    const el = isSuccess ? successMessage : errorMessage;
    el.textContent = msg;
    el.style.display = 'block';
    setTimeout(() => { el.style.display = 'none'; }, 3000);
}

function clearMessages() {
    successMessage.style.display = 'none';
    errorMessage.style.display = 'none';
}

// Toggle Forms
function toggleForms() {
    document.getElementById('registerForm').classList.toggle('hidden');
    document.getElementById('loginForm').classList.toggle('hidden');
    clearMessages();
}
document.querySelector('.login-link').addEventListener('click', e => { e.preventDefault(); toggleForms(); });
document.querySelector('.register-link').addEventListener('click', e => { e.preventDefault(); toggleForms(); });

// 2️⃣ Register
registerBtn.addEventListener('click', async e => {
    e.preventDefault();
    clearMessages();

    const username = document.getElementById('regUsername').value.trim();
    const phone = document.getElementById('regPhone').value.trim();
    const password = document.getElementById('regPassword').value;
    const confirm = document.getElementById('regConfirm').value;

    if (!username || !phone || !password || !confirm) {
        showMessage('Please fill all fields!', false);
        return;
    }
    if (password !== confirm) {
        showMessage('Passwords do not match!', false);
        return;
    }
    if (password.length < 6) {
        showMessage('Password must be at least 6 characters!', false);
        return;
    }

    try {
        // Create a dummy email for Supabase Auth
        const dummyEmail = username + '@renthub.local';

        // Sign up in Supabase Auth
        const { data: authData, error: authError } = await supabase.auth.signUp({
            email: dummyEmail,
            password: password
        });
        if (authError) throw authError;

        // Store username + phone in profiles table
        const { data, error } = await supabase.from('profiles').insert([
            { username: username, phone: phone, email: dummyEmail }
        ]);
        if (error) throw error;

        showMessage('Account created! You can now login.');
        document.getElementById('regUsername').value = '';
        document.getElementById('regPhone').value = '';
        document.getElementById('regPassword').value = '';
        document.getElementById('regConfirm').value = '';
        setTimeout(() => toggleForms(), 1500);

    } catch (err) {
        showMessage(err.message, false);
    }
});

// 3️⃣ Login
loginBtn.addEventListener('click', async e => {
    e.preventDefault();
    clearMessages();

    const username = document.getElementById('loginUsername').value.trim();
    const password = document.getElementById('loginPassword').value;

    if (!username || !password) {
        showMessage('Please fill all fields!', false);
        return;
    }

    try {
        const dummyEmail = username + '@renthub.local';
        const { data, error } = await supabase.auth.signInWithPassword({
            email: dummyEmail,
            password: password
        });
        if (error) throw error;

        showMessage(`Welcome back, ${username}!`);
        setTimeout(() => { window.location.href = 'index.html'; }, 1500);

    } catch (err) {
        showMessage(err.message, false);
    }
});

// 4️⃣ Logout
async function logout() {
    const { error } = await supabase.auth.signOut();
    if (error) showMessage(error.message, false);
    else {
        showMessage('Logged out successfully!');
        setTimeout(() => { window.location.href = 'login.html'; }, 1000);
    }
}

// Smooth input animations
document.querySelectorAll('input').forEach(input => {
    input.addEventListener('focus', () => input.parentElement.style.transform = 'scale(1.02)');
    input.addEventListener('blur', () => input.parentElement.style.transform = 'scale(1)');
});

</script>


</body>
</html>
